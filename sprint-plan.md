# HP Planner 週次スプリント計画

## スプリント構成
- **スプリント期間**: 各1週間（火曜日スタート）
- **スプリント数**: 5スプリント + 3日間最終調整
- **レビュー**: 毎週火曜日に前週振り返り＋当週計画

---

## Sprint 1: 基盤構築・技術検証 (8/27-9/3)

### 🎯 Sprint Goal
技術スタック全体の動作確認とMVP基盤構築

### 📋 Sprint Backlog

#### 高優先度 (Must Have)
- [ ] **環境構築**: GCP/Firebase プロジェクト初期化
- [ ] **API検証**: Open-Meteo + Vertex AI Gemini 接続確認
- [ ] **基本通信**: Chrome拡張 ↔ Cloud Functions
- [ ] **データ設計**: Firestore スキーマ確定・テストデータ

#### 中優先度 (Should Have)  
- [ ] **HP計算**: 基本ロジック実装（係数なし版）
- [ ] **デプロイ**: Functions 基本デプロイ・動作確認
- [ ] **Chrome拡張**: MV3テンプレート・最小UI

#### 低優先度 (Could Have)
- [ ] **CI/CD**: GitHub Actions 基本パイプライン
- [ ] **監視**: Cloud Logging 基本設定

### ✅ Sprint Review 判定基準
- 天気取得→HP初期値算出が動作
- Chrome拡張でモックHP値が表示される
- Cloud Functions がデプロイ・実行できる

### ⚠️ リスク・ブロッカー対策
- **Vertex AI認証**: サービスアカウント設定・権限確認
- **Chrome拡張権限**: MV3必要権限の最小化
- **GCP課金**: 予算アラート設定・コスト監視

---

## Sprint 2: コア機能開発 (9/4-9/10)

### 🎯 Sprint Goal  
HP計算エンジンとChrome拡張UI完成

### 📋 Sprint Backlog

#### 高優先度 (Must Have)
- [ ] **HP計算式**: 全係数対応・15分スロット更新
- [ ] **SVGリング**: HP%表示・リアルタイム更新
- [ ] **自然減衰**: 0.5/15分の定期減少
- [ ] **天気連携**: 毎日06:00自動取得・ベースHP算出

#### 中優先度 (Should Have)
- [ ] **休憩回復**: マイクロブレイク・休憩時のHP回復
- [ ] **Optionsページ**: 設定画面・デバッグ情報表示
- [ ] **60秒ポーリング**: HP自動更新・状態監視

#### 低優先度 (Could Have)
- [ ] **Remote Config**: 係数管理準備
- [ ] **エラーハンドリング**: API失敗時の処理

### ✅ Sprint Review 判定基準
- 天気→ベースHP→自然減→表示のフルフロー動作
- Chrome拡張で正確なHP%が表示される
- Options画面でデバッグ情報確認可能

### ⚠️ リスク・ブロッカー対策
- **SVG描画**: Canvas vs SVG性能比較
- **ポーリング**: バッテリー消費・CPU使用率確認
- **Cloud Scheduler**: 定期実行の確実性検証

---

## Sprint 3: AI Agent実装 (9/11-9/17)

### 🎯 Sprint Goal
4つのAI Agent実装とVertex AI統合完成

### 📋 Sprint Backlog

#### 高優先度 (Must Have)
- [ ] **HPプランナー**: 天気→HP + Gemini理由生成
- [ ] **会議メタ推定**: タイトル/説明→type/vagueScore/syncNecessity  
- [ ] **ブレイク・インサータ**: 閾値監視・休憩提案トースト
- [ ] **会議ナビゲータ**: HP状況→最適化提案

#### 中優先度 (Should Have)
- [ ] **プロンプトエンジニアリング**: Gemini出力精度向上
- [ ] **JSONバリデーション**: AI出力の妥当性チェック
- [ ] **.ics生成**: 休憩予定ダウンロード機能

#### 低優先度 (Could Have)
- [ ] **Vertex Embeddings**: 会議間類似度（v0.2）
- [ ] **提案文面**: Gemini自動生成

### ✅ Sprint Review 判定基準
- 4つのAI Agent全てが単体で動作する
- Vertex AI呼び出し・レスポンス処理が安定
- 閾値到達時にトースト提案が表示される

### ⚠️ リスク・ブロッカー対策
- **Gemini出力**: JSON形式の安定性・エラーハンドリング
- **API制限**: 呼び出し回数・コスト上限の管理
- **レスポンス時間**: AI処理待ち時間のUX対策

---

## Sprint 4: 統合・デバッグ・最適化 (9/18-9/21)

### 🎯 Sprint Goal
全機能統合とパフォーマンス最適化

### 📋 Sprint Backlog

#### 高優先度 (Must Have)
- [ ] **E2Eテスト**: Chrome拡張↔Functions↔AI全体フロー
- [ ] **本番デプロイ**: 安定動作・監視設定
- [ ] **パフォーマンス**: Functions起動時間・メモリ最適化
- [ ] **エラーハンドリング**: 全Edge case対応

#### 中優先度 (Should Have)
- [ ] **UI/UX改善**: 拡張アイコン・通知文面調整  
- [ ] **セキュリティ**: バリデーション・権限最小化
- [ ] **24時間テスト**: 実際の天気データで連続動作

#### 低優先度 (Could Have)
- [ ] **A/Bテスト**: 閾値・係数の効果測定準備
- [ ] **ログ解析**: ユーザー行動・エラー分析

### ✅ Sprint Review 判定基準
- 本番環境で24時間安定動作
- 全AI Agent機能が統合環境で稼働
- レスポンス時間・メモリ使用量が許容範囲

### ⚠️ リスク・ブロッカー対策
- **統合バグ**: コンポーネント間データフロー検証
- **本番障害**: ロールバック計画・緊急対応手順
- **性能劣化**: プロファイリング・ボトルネック特定

---

## Sprint 5: 提出物作成・最終調整 (9/22-9/24)

### 🎯 Sprint Goal
ハッカソン提出完了とデモ準備

### 📋 Sprint Backlog

#### 高優先度 (Must Have)
- [ ] **3分デモ動画**: HP表示・AI Agent動作・効果紹介
- [ ] **Zenn記事**: 課題・アーキテクチャ図・技術詳細
- [ ] **GitHub整理**: README・コメント・実行手順
- [ ] **最終動作確認**: デプロイURL・全機能テスト

#### 中優先度 (Should Have)
- [ ] **アーキテクチャ図**: システム構成・AI Agent設計
- [ ] **効果測定**: HP管理による生産性改善データ
- [ ] **技術解説**: Vertex AI活用・実装詳細

#### 低優先度 (Could Have)
- [ ] **ライセンス**: オープンソース化準備
- [ ] **拡張計画**: 今後の機能追加・改善案

### ✅ Sprint Review 判定基準
- 全提出物が期限内に完成・提出済み
- デモ動画で全機能の動作を確認可能
- GitHubリポジトリが審査可能な状態

### ⚠️ リスク・ブロッカー対策
- **動画撮影**: 録画環境・編集ツール準備
- **記事執筆**: テンプレート・構成事前準備
- **最終バグ**: 修正時間バッファ・優先度判断

---

## Daily Stand-up 方式

### 毎日確認項目
1. **Yesterday**: 前日完了タスク・課題
2. **Today**: 当日予定・優先度  
3. **Blockers**: 阻害要因・支援必要事項

### 週次レビュー（毎週火曜日）
1. **Sprint振り返り**: 完了率・課題・学び
2. **次Sprint計画**: バックログ調整・優先度再設定
3. **リスク評価**: 新たなリスク・対策更新

### 進捗可視化
- **GitHub Projects**: タスク管理・進捗追跡
- **Burndown Chart**: 残作業量・ベロシティ確認
- **Definition of Done**: 各機能の完成基準明確化

---

## 緊急時エスカレーション

### 重要度レベル
- **P0**: プロジェクト継続不可（技術的実現不可・API制限）
- **P1**: スケジュール大幅遅延（1週間以上）
- **P2**: 機能削減検討（Nice-to-have機能）

### 対策オプション
- **スコープ削減**: MVP機能絞り込み
- **技術代替**: 別アプローチ・ライブラリ変更
- **工数追加**: 外部サポート・並行開発

---

**作成日**: 2025-08-27  
**更新頻度**: 毎週火曜日レビュー・計画調整